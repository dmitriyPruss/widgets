{"ast":null,"code":"var _jsxFileName = \"/home/user/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/Work/2023/training/apps/frontend/src/components/widgets/widgets.component.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Box, Button, Paper, Table, TableCell, TableContainer, TableRow, TablePagination, TableFooter, Typography } from '@mui/material';\nimport { blue } from '@mui/material/colors';\nimport CastIcon from '@mui/icons-material/Cast';\nimport AutoStoriesIcon from '@mui/icons-material/AutoStories';\nimport { useModal } from 'mui-modal-provider';\nimport { useSnackbar } from 'notistack';\nimport WidgetForm from '../widget-form/widget-form.component';\nimport TablePaginationActions from '../table-pagination-actions/table-pagination-actions.component';\nimport RouterSuspense from '../router-suspense/router-suspense.component';\nimport { bookIconStyle, createWidgetBtnStyle, widgetTableContainerStyle, widgetTableFooterStyle, tablePaginationStyle } from './widgets.styles';\nimport { jsxDEV as _jsxDEV } from \"@emotion/react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"@emotion/react/jsx-dev-runtime\";\n\nconst Widgets = ({\n  id,\n  count,\n  page,\n  pageSize,\n  rows,\n  setPage,\n  isLoading,\n  isError,\n  onChangePage,\n  onChangeRowsPerPage\n}) => {\n  _s();\n\n  const videoIconContainerNode = document.getElementById('video-icon-container');\n  const showCastIcon = useCallback(() => {\n    if (!videoIconContainerNode) {\n      return null;\n    }\n\n    return /*#__PURE__*/ReactDOM.createPortal(_jsxDEV(CastIcon, {\n      sx: {\n        height: '30px',\n        width: '35px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this), videoIconContainerNode);\n  }, [videoIconContainerNode]);\n  const {\n    showModal\n  } = useModal();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const openWidgetForm = useCallback(() => id ? showModal(WidgetForm, {\n    id,\n    enqueueSnackbar\n  }) : null, [id, showModal, enqueueSnackbar]);\n  useEffect(() => {\n    if (!rows.length && page > 0) {\n      setPage(page - 1);\n    }\n  }, [rows.length]);\n  return _jsxDEV(_Fragment, {\n    children: [showCastIcon(), _jsxDEV(Box, {\n      mt: 1,\n      p: 2,\n      height: \"750px\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-evenly\",\n      children: [_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        children: _jsxDEV(Button, {\n          variant: \"contained\",\n          sx: createWidgetBtnStyle,\n          onClick: openWidgetForm,\n          children: \"Create Widget\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 6\n      }, this), _jsxDEV(Box, {\n        width: \"100%\",\n        children: [_jsxDEV(Typography, {\n          variant: \"h5\",\n          color: blue[800],\n          children: \"Widgets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 5\n        }, this), _jsxDEV(TableContainer, {\n          component: Paper,\n          sx: {\n            height: '520px',\n            border: `3px double ${blue[600]}`\n          },\n          children: _jsxDEV(Box, {\n            width: \"100%\",\n            height: \"100%\",\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            zIndex: 10,\n            children: [isLoading && _jsxDEV(RouterSuspense, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 35\n            }, this), _jsxDEV(Typography, {\n              variant: \"h6\",\n              sx: {\n                fontWeight: 'bold',\n                color: 'red'\n              },\n              children: \"Error: no data to display\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 5\n        }, this), _jsxDEV(TableContainer, {\n          component: Box,\n          sx: widgetTableContainerStyle,\n          children: _jsxDEV(Table, {\n            \"aria-label\": \"collapsible table\",\n            children: _jsxDEV(TableFooter, {\n              sx: widgetTableFooterStyle,\n              children: _jsxDEV(TableRow, {\n                sx: {\n                  position: 'relative',\n                  width: '350px'\n                },\n                children: [_jsxDEV(TableCell, {\n                  children: _jsxDEV(AutoStoriesIcon, {\n                    sx: bookIconStyle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 7\n                }, this), _jsxDEV(TablePagination, {\n                  colSpan: 3,\n                  count: count,\n                  rowsPerPage: pageSize,\n                  page: page,\n                  onPageChange: onChangePage,\n                  rowsPerPageOptions: [5, 10, 25],\n                  onRowsPerPageChange: onChangeRowsPerPage,\n                  ActionsComponent: TablePaginationActions,\n                  sx: tablePaginationStyle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 7\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 6\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Widgets, \"TuNF9u1s4ZM5IDkl/mT//WCMXcg=\", false, function () {\n  return [useModal, useSnackbar];\n});\n\n_c = Widgets;\nexport default Widgets;\n\nvar _c;\n\n$RefreshReg$(_c, \"Widgets\");","map":{"version":3,"sources":["/home/user/Документы/Work/2023/training/apps/frontend/src/components/widgets/widgets.component.tsx"],"names":["React","useCallback","useEffect","ReactDOM","Box","Button","Paper","Table","TableCell","TableContainer","TableRow","TablePagination","TableFooter","Typography","blue","CastIcon","AutoStoriesIcon","useModal","useSnackbar","WidgetForm","TablePaginationActions","RouterSuspense","bookIconStyle","createWidgetBtnStyle","widgetTableContainerStyle","widgetTableFooterStyle","tablePaginationStyle","Widgets","id","count","page","pageSize","rows","setPage","isLoading","isError","onChangePage","onChangeRowsPerPage","videoIconContainerNode","document","getElementById","showCastIcon","createPortal","height","width","showModal","enqueueSnackbar","openWidgetForm","length","border","fontWeight","color","position"],"mappings":"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","sourcesContent":["import React, { FC, useCallback, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  Box,\n  Button,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TablePagination,\n  TableFooter,\n  Typography\n} from '@mui/material';\nimport { blue } from '@mui/material/colors';\nimport CastIcon from '@mui/icons-material/Cast';\nimport AutoStoriesIcon from '@mui/icons-material/AutoStories';\nimport { useModal } from 'mui-modal-provider';\nimport { useSnackbar } from 'notistack';\nimport WidgetForm from '../widget-form/widget-form.component';\nimport WidgetRow from '../widget-row/widget-row.component';\nimport TablePaginationActions from \n  '../table-pagination-actions/table-pagination-actions.component';\nimport RouterSuspense from '../router-suspense/router-suspense.component';\nimport { WidgetDto } from '@boilerplate/shared';\nimport { headerColumnNames } from '../../constants/widgets.constants';\nimport { iWidgetsProps } from './widgets.types';\nimport {  \n  bookIconStyle, \n  createWidgetBtnStyle,\n  headerColumnCellStyle,\n  widgetTableContainerStyle,\n  widgetTableFooterStyle,\n  tablePaginationStyle\n} from './widgets.styles';\n\n\nconst Widgets: FC<iWidgetsProps> = (\n  { \n\tid, \n\tcount, \n\tpage, \n\tpageSize, \n\trows, \n\tsetPage,\n\tisLoading,\n\tisError, \n\tonChangePage,\n\tonChangeRowsPerPage\n  } : iWidgetsProps\n) => {\n  const videoIconContainerNode = document.getElementById('video-icon-container');\n  \n  const showCastIcon = useCallback(() => {\n\tif (!videoIconContainerNode) {\n\t  return null;\n\t}\n\t  \n\treturn ReactDOM.createPortal(\n\t  <CastIcon sx={{ height: '30px', width: '35px' }} />,\n\t  videoIconContainerNode\n\t);\n  }, [videoIconContainerNode]);\n\n  const { showModal } = useModal();\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const openWidgetForm = useCallback(() => \n\tid ? showModal(WidgetForm, { id, enqueueSnackbar }) : null, \n\t[id, showModal, enqueueSnackbar]\n  );\n\n  useEffect(() => {\n\tif (!rows.length && page > 0) {\n\t  setPage(page - 1);\n\t} \n  }, [rows.length]);\n\n  return (\n    <>\n\t  {showCastIcon()}\n\t  <Box\n\t    mt={1}\n\t\tp={2}\n\t    height=\"750px\"\n\t    display=\"flex\"\n\t    flexDirection=\"column\"\n\t    justifyContent=\"space-evenly\"\n\t  >\n\t    <Box display=\"flex\" justifyContent=\"flex-end\">\n\t\t  <Button\n\t\t    variant=\"contained\"\n\t\t    sx={createWidgetBtnStyle}\n\t\t    onClick={openWidgetForm}\n\t\t  >\n\t\t    Create Widget\n\t\t  </Button>\n\t    </Box>\n\t    <Box width=\"100%\">\n\t\t  <Typography variant=\"h5\" color={blue[800]}>Widgets</Typography>\n\t\t  <TableContainer component={Paper} sx={{ height: '520px', border: `3px double ${blue[600]}` }}>\n\t\t  {/* {(isLoading || isError) &&  */}\n                  <Box \n\t\t\t\t\twidth=\"100%\" \n\t\t\t\t\theight=\"100%\"\n\t\t\t\t\tposition=\"absolute\"  \n\t\t\t\t\ttop={0} \n\t\t\t\t\tleft={0}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"column\" \n\t\t\t\t\tjustifyContent=\"center\" \n\t\t\t\t\talignItems=\"center\" \n\t\t\t\t\tzIndex={10} \n                  >\n                    {isLoading && <RouterSuspense />}\n                    {/* {isError && ( */}\n                      <Typography \n                        variant=\"h6\" \n                        sx={{ fontWeight: 'bold', color: 'red' }}\n                      >\n                        Error: no data to display\n                      </Typography>\n                    {/* )}   */}\n                  </Box>\n                {/* } */}\n\t\t    {/* <Table stickyHeader aria-label=\"collapsible table\">\n\t\t\t  <TableHead>\n\t\t\t    <TableRow>\n\t\t\t\t  {headerColumnNames.map((columnName: string) => (\n\t\t\t\t    <TableCell key={columnName} sx={headerColumnCellStyle}>\n\t\t\t\t\t  {columnName}\n\t\t\t\t    </TableCell>\n\t\t\t\t  ))}\n\t\t\t    </TableRow>\n\t\t\t  </TableHead>\n\t\t\t  <TableBody sx={{ width: '100%' }}>\n                {!isError && !isLoading && (\n\t\t\t      rows?.map((row: WidgetDto) => (\n\t\t\t\t\t<WidgetRow \n\t\t\t\t\t  key={row.id} \n\t\t\t\t\t  row={row} \n\t\t\t\t\t  enqueueSnackbar={enqueueSnackbar} \n\t\t\t\t\t/>\n\t\t\t\t  ))\n                )}\n\t\t\t  </TableBody>\n\t\t    </Table> */}\n\t\t  </TableContainer>\n\t\t  <TableContainer component={Box} sx={widgetTableContainerStyle}>\n\t\t    <Table aria-label=\"collapsible table\">\n\t\t\t  <TableFooter sx={widgetTableFooterStyle}>\n\t\t\t    <TableRow sx={{ position: 'relative', width: '350px' }}>\n\t\t\t\t  <TableCell>\n                    <AutoStoriesIcon sx={bookIconStyle} />\n                  </TableCell>\n\t\t\t\t  <TablePagination\n\t\t\t\t    colSpan={3}\n\t\t\t\t    count={count}\n\t\t\t\t    rowsPerPage={pageSize}\n\t\t\t\t    page={page}\n\t\t\t\t    onPageChange={onChangePage}\n\t\t\t\t    rowsPerPageOptions={[5, 10, 25]}\n\t\t\t\t    onRowsPerPageChange={onChangeRowsPerPage}\n\t\t\t\t    ActionsComponent={TablePaginationActions}\n\t\t\t\t    sx={tablePaginationStyle}\n\t\t\t\t  />\n\t\t\t    </TableRow>\n\t\t\t  </TableFooter>\n\t\t    </Table>\n\t\t  </TableContainer>\n\t    </Box>\n\t  </Box>\n    </>\n  )\n};\n\nexport default Widgets;"]},"metadata":{},"sourceType":"module"}