{"ast":null,"code":"import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/dist/query/react';\nconst baseUrl = 'http://localhost:3000/api';\nexport const mainApi = createApi({\n  reducerPath: 'api',\n  baseQuery: fetchBaseQuery({\n    baseUrl,\n    prepareHeaders: headers => {\n      const accessToken = localStorage.getItem('token');\n\n      if (accessToken) {\n        headers.set('Authorization', `Bearer ${accessToken}`);\n      }\n\n      return headers;\n    }\n  }),\n  tagTypes: ['Auth', 'Channel', 'Widget'],\n  endpoints: builder => ({})\n});","map":{"version":3,"sources":["/home/user/Документы/Work/2023/training/libs/store/src/rtk-store/services/main-api.api.ts"],"names":["createApi","fetchBaseQuery","baseUrl","mainApi","reducerPath","baseQuery","prepareHeaders","headers","accessToken","localStorage","getItem","set","tagTypes","endpoints","builder"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,cAApB,QAA0C,mCAA1C;AAEA,MAAMC,OAAO,GAAG,2BAAhB;AAEA,OAAO,MAAMC,OAAO,GAAGH,SAAS,CAAC;AAC/BI,EAAAA,WAAW,EAAE,KADkB;AAE/BC,EAAAA,SAAS,EAAEJ,cAAc,CAAC;AACxBC,IAAAA,OADwB;AAExBI,IAAAA,cAAc,EAAGC,OAAD,IAAa;AAC3B,YAAMC,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAApB;;AAEA,UAAIF,WAAJ,EAAiB;AACfD,QAAAA,OAAO,CAACI,GAAR,CAAY,eAAZ,EAA8B,UAASH,WAAY,EAAnD;AACD;;AAED,aAAOD,OAAP;AACD;AAVuB,GAAD,CAFM;AAc/BK,EAAAA,QAAQ,EAAE,CAAC,MAAD,EAAS,SAAT,EAAoB,QAApB,CAdqB;AAe/BC,EAAAA,SAAS,EAAEC,OAAO,KAAK,EAAL;AAfa,CAAD,CAAzB","sourcesContent":["import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/dist/query/react';\n\nconst baseUrl = 'http://localhost:3000/api';\n\nexport const mainApi = createApi({\n  reducerPath: 'api',\n  baseQuery: fetchBaseQuery({\n    baseUrl,\n    prepareHeaders: (headers) => {\n      const accessToken = localStorage.getItem('token');\n\n      if (accessToken) {\n        headers.set('Authorization', `Bearer ${accessToken}`);\n      }\n\n      return headers;\n    }\n  }),\n  tagTypes: ['Auth', 'Channel', 'Widget'],\n  endpoints: builder => ({})\n});\n"]},"metadata":{},"sourceType":"module"}