{"ast":null,"code":"class LocalStorageService {\n  constructor() {\n    this.clearToken = state => {\n      localStorage.removeItem('token');\n      state.token = null;\n      state.isAuthenticated = !!state.token;\n    };\n\n    this.setToken = (state, token) => {\n      if (token) {\n        localStorage.setItem('token', token);\n        state.token = token;\n        state.isAuthenticated = !!state.token;\n      } else {\n        this.clearToken(state);\n      }\n    };\n  }\n\n}\n\nexport default LocalStorageService;","map":{"version":3,"sources":["/home/user/Документы/Work/2023/training/libs/store/src/rtk-store/services/local-storage.service.ts"],"names":["LocalStorageService","clearToken","state","localStorage","removeItem","token","isAuthenticated","setToken","setItem"],"mappings":"AAEA,MAAMA,mBAAN,CAA0B;AAAA;AAAA,SACjBC,UADiB,GACHC,KAAD,IAA4B;AAC9CC,MAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAF,MAAAA,KAAK,CAACG,KAAN,GAAc,IAAd;AACAH,MAAAA,KAAK,CAACI,eAAN,GAAwB,CAAC,CAACJ,KAAK,CAACG,KAAhC;AACD,KALuB;;AAAA,SAOjBE,QAPiB,GAON,CAACL,KAAD,EAAmBG,KAAnB,KAAkD;AAClE,UAAIA,KAAJ,EAAW;AACTF,QAAAA,YAAY,CAACK,OAAb,CAAqB,OAArB,EAA8BH,KAA9B;AACAH,QAAAA,KAAK,CAACG,KAAN,GAAcA,KAAd;AACAH,QAAAA,KAAK,CAACI,eAAN,GAAwB,CAAC,CAACJ,KAAK,CAACG,KAAhC;AACD,OAJD,MAIO;AACL,aAAKJ,UAAL,CAAgBC,KAAhB;AACD;AACF,KAfuB;AAAA;;AAAA;;AAkB1B,eAAeF,mBAAf","sourcesContent":["import { AuthState } from '../reducers/auth.slice';\n\nclass LocalStorageService {\n  public clearToken = (state: AuthState): void => {\n    localStorage.removeItem('token');\n    state.token = null;\n    state.isAuthenticated = !!state.token;\n  }\n\n  public setToken = (state: AuthState, token: string | null): void => {\n    if (token) {\n      localStorage.setItem('token', token);\n      state.token = token;\n      state.isAuthenticated = !!state.token;\n    } else {\n      this.clearToken(state);\n    }\n  }\n}\n\nexport default LocalStorageService;"]},"metadata":{},"sourceType":"module"}