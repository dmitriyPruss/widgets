{"ast":null,"code":"var _jsxFileName = \"/home/user/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/Work/2023/training/apps/frontend/src/components/widgets/widgets.component.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Box, Button, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TablePagination, TableFooter, Typography } from '@mui/material';\nimport { blue } from '@mui/material/colors';\nimport CastIcon from '@mui/icons-material/Cast';\nimport AutoStoriesIcon from '@mui/icons-material/AutoStories';\nimport { useModal } from 'mui-modal-provider';\nimport { useSnackbar } from 'notistack';\nimport { useSelector } from 'react-redux';\nimport WidgetForm from '../widget-form/widget-form.component';\nimport WidgetRow from '../widget-row/widget-row.component';\nimport TablePaginationActions from '../table-pagination-actions/table-pagination-actions.component';\nimport RouterSuspense from '../router-suspense/router-suspense.component';\nimport { headerColumnNames } from '../../constants/widgets.constants';\nimport { bookIconStyle, createWidgetBtnStyle, headerColumnCellStyle, widgetTableContainerStyle, widgetTableFooterStyle, tablePaginationStyle } from './widgets.styles';\nimport { socketClient } from '../../socket';\nimport { jsxDEV as _jsxDEV } from \"@emotion/react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"@emotion/react/jsx-dev-runtime\";\n\nconst Widgets = ({\n  id,\n  count,\n  page,\n  pageSize,\n  rows,\n  setPage,\n  isLoading,\n  isError,\n  onChangePage,\n  onChangeRowsPerPage\n}) => {\n  _s();\n\n  const videoIconContainerNode = document.getElementById('video-icon-container');\n  const showCastIcon = useCallback(() => {\n    if (!videoIconContainerNode) {\n      return null;\n    }\n\n    return /*#__PURE__*/ReactDOM.createPortal(_jsxDEV(CastIcon, {\n      sx: {\n        height: '30px',\n        width: '35px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 4\n    }, this), videoIconContainerNode);\n  }, [videoIconContainerNode]);\n  const {\n    showModal\n  } = useModal();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const openWidgetForm = useCallback(() => id ? showModal(WidgetForm, {\n    id,\n    enqueueSnackbar\n  }) : null, [id, showModal, enqueueSnackbar]);\n  const token = useSelector(state => state.authReducer.token);\n  useEffect(() => {\n    if (token) {\n      socketClient.joinWidgets(token);\n      socketClient.emitWidgets(rows);\n    }\n\n    return () => {\n      socketClient.leftWidgets(token);\n    };\n  }, [rows, rows == null ? void 0 : rows.length, token]);\n  useEffect(() => {\n    if (!rows.length && page > 0) {\n      setPage(page - 1);\n    }\n  }, [rows.length]);\n  return _jsxDEV(_Fragment, {\n    children: [showCastIcon(), _jsxDEV(Box, {\n      mt: 1,\n      p: 2,\n      height: \"750px\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-evenly\",\n      children: [_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        children: _jsxDEV(Button, {\n          variant: \"contained\",\n          sx: createWidgetBtnStyle,\n          onClick: openWidgetForm,\n          children: \"Create Widget\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 6\n      }, this), _jsxDEV(Box, {\n        width: \"100%\",\n        children: [_jsxDEV(Typography, {\n          variant: \"h5\",\n          color: blue[800],\n          children: \"Widgets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 5\n        }, this), _jsxDEV(TableContainer, {\n          component: Paper,\n          sx: {\n            height: '520px',\n            border: `3px double ${blue[600]}`\n          },\n          children: [(isLoading || isError) && _jsxDEV(Box, {\n            width: \"100%\",\n            height: \"100%\",\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            zIndex: 10,\n            children: [isLoading && _jsxDEV(RouterSuspense, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 19\n            }, this), isError && _jsxDEV(Typography, {\n              variant: \"h6\",\n              sx: {\n                fontWeight: 'bold',\n                color: 'red'\n              },\n              children: \"Error: no data to display\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 6\n          }, this), _jsxDEV(Table, {\n            stickyHeader: true,\n            \"aria-label\": \"collapsible table\",\n            children: [_jsxDEV(TableHead, {\n              children: _jsxDEV(TableRow, {\n                children: headerColumnNames.map(columnName => _jsxDEV(TableCell, {\n                  sx: headerColumnCellStyle,\n                  children: columnName\n                }, columnName, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 9\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 6\n            }, this), _jsxDEV(TableBody, {\n              sx: {\n                width: '100%'\n              },\n              children: !isError && !isLoading && (rows == null ? void 0 : rows.map(row => _jsxDEV(WidgetRow, {\n                row: row,\n                enqueueSnackbar: enqueueSnackbar\n              }, row.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 6\n              }, this)))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 6\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 5\n        }, this), _jsxDEV(TableContainer, {\n          component: Box,\n          sx: widgetTableContainerStyle,\n          children: _jsxDEV(Table, {\n            \"aria-label\": \"collapsible table\",\n            children: _jsxDEV(TableFooter, {\n              sx: widgetTableFooterStyle,\n              children: _jsxDEV(TableRow, {\n                sx: {\n                  position: 'relative',\n                  width: '350px'\n                },\n                children: [_jsxDEV(TableCell, {\n                  children: _jsxDEV(AutoStoriesIcon, {\n                    sx: bookIconStyle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 7\n                }, this), _jsxDEV(TablePagination, {\n                  colSpan: 3,\n                  count: count,\n                  rowsPerPage: pageSize,\n                  page: page,\n                  onPageChange: onChangePage,\n                  rowsPerPageOptions: [5, 10, 25],\n                  onRowsPerPageChange: onChangeRowsPerPage,\n                  ActionsComponent: TablePaginationActions,\n                  sx: tablePaginationStyle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 7\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 6\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Widgets, \"3shqbHBe2SwnC+LJyKJ6+8C+8PI=\", false, function () {\n  return [useModal, useSnackbar, useSelector];\n});\n\n_c = Widgets;\nexport default Widgets;\n\nvar _c;\n\n$RefreshReg$(_c, \"Widgets\");","map":{"version":3,"sources":["/home/user/Документы/Work/2023/training/apps/frontend/src/components/widgets/widgets.component.tsx"],"names":["React","useCallback","useEffect","ReactDOM","Box","Button","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TablePagination","TableFooter","Typography","blue","CastIcon","AutoStoriesIcon","useModal","useSnackbar","useSelector","WidgetForm","WidgetRow","TablePaginationActions","RouterSuspense","headerColumnNames","bookIconStyle","createWidgetBtnStyle","headerColumnCellStyle","widgetTableContainerStyle","widgetTableFooterStyle","tablePaginationStyle","socketClient","Widgets","id","count","page","pageSize","rows","setPage","isLoading","isError","onChangePage","onChangeRowsPerPage","videoIconContainerNode","document","getElementById","showCastIcon","createPortal","height","width","showModal","enqueueSnackbar","openWidgetForm","token","state","authReducer","joinWidgets","emitWidgets","leftWidgets","length","border","fontWeight","color","map","columnName","row","position"],"mappings":"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","sourcesContent":["import React, { FC, useCallback, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  Box,\n  Button,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TablePagination,\n  TableFooter,\n  Typography\n} from '@mui/material';\nimport { blue } from '@mui/material/colors';\nimport CastIcon from '@mui/icons-material/Cast';\nimport AutoStoriesIcon from '@mui/icons-material/AutoStories';\nimport { useModal } from 'mui-modal-provider';\nimport { useSnackbar } from 'notistack';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '@boilerplate/store';\nimport WidgetForm from '../widget-form/widget-form.component';\nimport WidgetRow from '../widget-row/widget-row.component';\nimport TablePaginationActions from \n  '../table-pagination-actions/table-pagination-actions.component';\nimport RouterSuspense from '../router-suspense/router-suspense.component';\nimport { WidgetDto } from '@boilerplate/shared';\nimport { headerColumnNames } from '../../constants/widgets.constants';\nimport { iWidgetsProps } from './widgets.types';\nimport {  \n  bookIconStyle, \n  createWidgetBtnStyle,\n  headerColumnCellStyle,\n  widgetTableContainerStyle,\n  widgetTableFooterStyle,\n  tablePaginationStyle\n} from './widgets.styles';\nimport { socketClient } from '../../socket';\n\n\nconst Widgets: FC<iWidgetsProps> = (\n  { \n\tid, \n\tcount, \n\tpage, \n\tpageSize, \n\trows, \n\tsetPage,\n\tisLoading,\n\tisError, \n\tonChangePage,\n\tonChangeRowsPerPage\n  } : iWidgetsProps\n) => {\n  const videoIconContainerNode = document.getElementById('video-icon-container');\n  \n  const showCastIcon = useCallback(() => {\n\tif (!videoIconContainerNode) {\n\t  return null;\n\t}\n\t  \n\treturn ReactDOM.createPortal(\n\t  <CastIcon sx={{ height: '30px', width: '35px' }} />,\n\t  videoIconContainerNode\n\t);\n  }, [videoIconContainerNode]);\n\n  const { showModal } = useModal();\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const openWidgetForm = useCallback(() => \n\tid ? showModal(WidgetForm, { id, enqueueSnackbar }) : null, \n\t[id, showModal, enqueueSnackbar]\n  );\n\n  const token = useSelector(\n    (state: RootState) => state.authReducer.token\n  );\n\n\n  useEffect(() => {\n\tif (token) {\n\t  socketClient.joinWidgets(token);\n\n\t  socketClient.emitWidgets(rows);\n\t}\n\n\treturn () => {\n\t  socketClient.leftWidgets(token as string);\n\t};\n  }, [rows, rows?.length, token]);\n\n  useEffect(() => {\n\tif (!rows.length && page > 0) {\n\t  setPage(page - 1);\n\t} \n  }, [rows.length]);\n\n  return (\n    <>\n\t  {showCastIcon()}\n\t  <Box\n\t    mt={1}\n\t\tp={2}\n\t    height=\"750px\"\n\t    display=\"flex\"\n\t    flexDirection=\"column\"\n\t    justifyContent=\"space-evenly\"\n\t  >\n\t    <Box display=\"flex\" justifyContent=\"flex-end\">\n\t\t  <Button\n\t\t    variant=\"contained\"\n\t\t    sx={createWidgetBtnStyle}\n\t\t    onClick={openWidgetForm}\n\t\t  >\n\t\t    Create Widget\n\t\t  </Button>\n\t    </Box>\n\t    <Box width=\"100%\">\n\t\t  <Typography variant=\"h5\" color={blue[800]}>Widgets</Typography>\n\t\t  <TableContainer component={Paper} sx={{ height: '520px', border: `3px double ${blue[600]}` }}>\n\t\t\t{(isLoading || isError) &&\n\t\t\t  <Box \n\t\t\t\twidth=\"100%\" \n\t\t\t\theight=\"100%\"\n\t\t\t\tposition=\"absolute\"  \n\t\t\t\ttop={0} \n\t\t\t\tleft={0}\n\t\t\t\tdisplay=\"flex\"\n\t\t\t\tflexDirection=\"column\" \n\t\t\t\tjustifyContent=\"center\" \n\t\t\t\talignItems=\"center\" \n\t\t\t\tzIndex={10} \n\t\t\t  >\n\t\t\t\t{isLoading && <RouterSuspense />}\n\t\t\t\t{isError && (\n\t\t\t\t  <Typography \n\t\t\t\t\tvariant=\"h6\" \n\t\t\t\t\tsx={{ fontWeight: 'bold', color: 'red' }}\n\t\t\t\t  >\n\t\t\t\t\tError: no data to display\n\t\t\t\t  </Typography>\n\t\t\t    )}  \n\t\t\t  </Box>\n            }\n\t\t    <Table stickyHeader aria-label=\"collapsible table\">\n\t\t\t  <TableHead>\n\t\t\t    <TableRow>\n\t\t\t\t  {headerColumnNames.map((columnName: string) => (\n\t\t\t\t    <TableCell key={columnName} sx={headerColumnCellStyle}>\n\t\t\t\t\t  {columnName}\n\t\t\t\t    </TableCell>\n\t\t\t\t  ))}\n\t\t\t    </TableRow>\n\t\t\t  </TableHead>\n\t\t\t  <TableBody sx={{ width: '100%' }}>\n                {!isError && !isLoading && (\n\t\t\t      rows?.map((row: WidgetDto) => (\n\t\t\t\t\t<WidgetRow \n\t\t\t\t\t  key={row.id} \n\t\t\t\t\t  row={row} \n\t\t\t\t\t  enqueueSnackbar={enqueueSnackbar} \n\t\t\t\t\t/>\n\t\t\t\t  ))\n                )}\n\t\t\t  </TableBody>\n\t\t    </Table>\n\t\t  </TableContainer>\n\t\t  <TableContainer component={Box} sx={widgetTableContainerStyle}>\n\t\t    <Table aria-label=\"collapsible table\">\n\t\t\t  <TableFooter sx={widgetTableFooterStyle}>\n\t\t\t    <TableRow sx={{ position: 'relative', width: '350px' }}>\n\t\t\t\t  <TableCell>\n                    <AutoStoriesIcon sx={bookIconStyle} />\n                  </TableCell>\n\t\t\t\t  <TablePagination\n\t\t\t\t    colSpan={3}\n\t\t\t\t    count={count}\n\t\t\t\t    rowsPerPage={pageSize}\n\t\t\t\t    page={page}\n\t\t\t\t    onPageChange={onChangePage}\n\t\t\t\t    rowsPerPageOptions={[5, 10, 25]}\n\t\t\t\t    onRowsPerPageChange={onChangeRowsPerPage}\n\t\t\t\t    ActionsComponent={TablePaginationActions}\n\t\t\t\t    sx={tablePaginationStyle}\n\t\t\t\t  />\n\t\t\t    </TableRow>\n\t\t\t  </TableFooter>\n\t\t    </Table>\n\t\t  </TableContainer>\n\t    </Box>\n\t  </Box>\n    </>\n  )\n};\n\nexport default Widgets;"]},"metadata":{},"sourceType":"module"}