{"ast":null,"code":"var _jsxFileName = \"/home/user/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/Work/2023/training/apps/frontend/src/components/widgets-with-livestream/widgets-with-livestream.component.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Badge, Box, Paper, Table, TableContainer, TableFooter, TablePagination, TableRow, Typography, TableCell } from '@mui/material';\nimport { blue } from '@mui/material/colors';\nimport SmartDisplayIcon from '@mui/icons-material/SmartDisplay';\nimport AutoStoriesIcon from '@mui/icons-material/AutoStories';\nimport AmazonIVSPlayer from '../amazon-ivs-player/amazon-ivs-player.component';\nimport TablePaginationActions from '../table-pagination-actions/table-pagination-actions.component';\nimport RouterSuspense from '../router-suspense/router-suspense.component';\nimport DndWidgetsContainer from '../dnd-widgets-container/dnd-widgets-container.component';\nimport { headerIconStyle, tablePaginationStyle, tableFooterStyle, widgetsHeaderStyle, bookIconStyle } from './widgets-with-livestream.styles';\nimport { jsxDEV as _jsxDEV } from \"@emotion/react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"@emotion/react/jsx-dev-runtime\";\n\nconst WidgetsWithLiveStream = ({\n  count,\n  page,\n  pageSize,\n  playbackURL,\n  isLoading,\n  isError,\n  onChangePage,\n  onChangeRowsPerPage,\n  widgets,\n  setWidgets\n}) => {\n  _s();\n\n  const videoIconContainerNode = document.getElementById('video-icon-container');\n  const showVideoIcon = useCallback(() => {\n    if (!videoIconContainerNode) {\n      return null;\n    }\n\n    return /*#__PURE__*/ReactDOM.createPortal(_jsxDEV(Badge, {\n      color: \"error\",\n      variant: \"dot\",\n      children: _jsxDEV(SmartDisplayIcon, {\n        sx: headerIconStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this), videoIconContainerNode);\n  }, [videoIconContainerNode]);\n  const [currentCoords, setCurrentCoords] = useState({\n    x: 0,\n    y: 0\n  });\n  return _jsxDEV(_Fragment, {\n    children: [showVideoIcon(), _jsxDEV(Box, {\n      mt: 5,\n      height: \"700px\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      p: \"0 30px\",\n      position: \"relative\",\n      children: [_jsxDEV(DndWidgetsContainer, {\n        widgets: widgets,\n        setWidgets: setWidgets,\n        currentCoords: currentCoords,\n        children: _jsxDEV(AmazonIVSPlayer, {\n          playbackURL: playbackURL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 3\n      }, this), _jsxDEV(Box, {\n        width: \"380px\",\n        children: [_jsxDEV(Typography, {\n          sx: widgetsHeaderStyle,\n          children: \"Widgets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 5\n        }, this), _jsxDEV(TableContainer, {\n          component: Paper,\n          sx: {\n            height: '350px',\n            border: `3px double ${blue[300]}`\n          },\n          children: [_jsxDEV(Box, {\n            width: \"100%\",\n            height: \"100%\",\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            zIndex: 10,\n            children: [isLoading && _jsxDEV(RouterSuspense, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 35\n            }, this), isError && _jsxDEV(Typography, {\n              variant: \"h6\",\n              sx: {\n                fontWeight: 'bold',\n                color: 'red'\n              },\n              children: \"Error: no data to display\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 19\n          }, this), \"// }\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 5\n        }, this), _jsxDEV(TableContainer, {\n          component: Box,\n          children: _jsxDEV(Table, {\n            \"aria-label\": \"collapsible table\",\n            children: _jsxDEV(TableFooter, {\n              sx: tableFooterStyle,\n              children: _jsxDEV(TableRow, {\n                sx: {\n                  position: 'relative',\n                  width: '350px'\n                },\n                children: [_jsxDEV(TableCell, {\n                  children: _jsxDEV(AutoStoriesIcon, {\n                    sx: bookIconStyle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 9\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 7\n                }, this), _jsxDEV(TablePagination, {\n                  colSpan: 3,\n                  count: count,\n                  rowsPerPage: pageSize,\n                  page: page,\n                  onPageChange: onChangePage,\n                  rowsPerPageOptions: [5, 10, 25],\n                  onRowsPerPageChange: onChangeRowsPerPage,\n                  ActionsComponent: TablePaginationActions,\n                  sx: tablePaginationStyle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 7\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 6\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(WidgetsWithLiveStream, \"bo4se8PKZLill+g1YgMpvxKlMn4=\");\n\n_c = WidgetsWithLiveStream;\nexport default WidgetsWithLiveStream;\n\nvar _c;\n\n$RefreshReg$(_c, \"WidgetsWithLiveStream\");","map":{"version":3,"sources":["/home/user/Документы/Work/2023/training/apps/frontend/src/components/widgets-with-livestream/widgets-with-livestream.component.tsx"],"names":["React","useCallback","useState","ReactDOM","Badge","Box","Paper","Table","TableContainer","TableFooter","TablePagination","TableRow","Typography","TableCell","blue","SmartDisplayIcon","AutoStoriesIcon","AmazonIVSPlayer","TablePaginationActions","RouterSuspense","DndWidgetsContainer","headerIconStyle","tablePaginationStyle","tableFooterStyle","widgetsHeaderStyle","bookIconStyle","WidgetsWithLiveStream","count","page","pageSize","playbackURL","isLoading","isError","onChangePage","onChangeRowsPerPage","widgets","setWidgets","videoIconContainerNode","document","getElementById","showVideoIcon","createPortal","currentCoords","setCurrentCoords","x","y","height","border","fontWeight","color","position","width"],"mappings":"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","sourcesContent":["import React, { FC, useCallback, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  Badge,\t\n  Box,\n  Paper,\n  Table, \n  TableContainer,\n  TableBody,\n  TableFooter,\n  TablePagination,\n  TableRow,\n  Typography,\n  TableCell\n} from '@mui/material';\nimport { blue } from '@mui/material/colors';\nimport SmartDisplayIcon from '@mui/icons-material/SmartDisplay';\nimport AutoStoriesIcon from '@mui/icons-material/AutoStories';\nimport AmazonIVSPlayer from '../amazon-ivs-player/amazon-ivs-player.component';\nimport WidgetRowForLiveStream \n  from '../widget-row-for-livestream/widget-row-for-livestream.component';\nimport TablePaginationActions \n  from '../table-pagination-actions/table-pagination-actions.component';\nimport RouterSuspense from '../router-suspense/router-suspense.component';\nimport DndWidgetsContainer from '../dnd-widgets-container/dnd-widgets-container.component';\nimport { \n  IWidgetItem, \n  IWidgetsWithLiveStreamProps, \n  ICurrentCoords \n} from './widgets-with-livestream.types';\nimport {\n  headerIconStyle, \n  tablePaginationStyle, \n  tableFooterStyle, \n  widgetsHeaderStyle,\n  bookIconStyle \n} from './widgets-with-livestream.styles';\n\n\nconst WidgetsWithLiveStream: FC<IWidgetsWithLiveStreamProps> = (\n  { \n\tcount, \n\tpage, \n\tpageSize, \n\tplaybackURL, \n\tisLoading,\n\tisError, \n\tonChangePage, \n\tonChangeRowsPerPage,\n\twidgets, \n\tsetWidgets \n  }: IWidgetsWithLiveStreamProps \n) => {\n  const videoIconContainerNode = document.getElementById('video-icon-container');\n\n  const showVideoIcon = useCallback(() => {\n\tif (!videoIconContainerNode) {\n\t  return null;\n\t}\n\t\n\treturn ReactDOM.createPortal(\n\t  <Badge color=\"error\" variant=\"dot\" >\n\t\t<SmartDisplayIcon sx={headerIconStyle} />\n\t  </Badge>,\n\t  videoIconContainerNode\n\t);\n  }, [videoIconContainerNode]);\n\n  const [currentCoords, setCurrentCoords] = useState<ICurrentCoords>({x: 0, y: 0});\n\n  return (\n\t<>\n\t  {showVideoIcon()}\t\n\t  <Box \t\t  \n\t    mt={5}\n\t    height=\"700px\"\n\t    display=\"flex\"\n\t    justifyContent=\"space-between\"\n\t    p=\"0 30px\"\n\t    position=\"relative\"\n\t  >\n\t\t<DndWidgetsContainer  \n\t\t  widgets={widgets}\n\t\t  setWidgets={setWidgets}\n\t\t  currentCoords={currentCoords}\n\t\t>\n\t\t  <AmazonIVSPlayer playbackURL={playbackURL} />\n\t\t</DndWidgetsContainer>\n\t    <Box width=\"380px\">\n\t\t  <Typography sx={widgetsHeaderStyle}>Widgets</Typography>\n\t\t  <TableContainer \n\t\t    component={Paper} \n\t\t\tsx={{ height: '350px', border: `3px double ${blue[300]}` }}\n\t\t  >\n\t\t\t\t\t\t\t{/* {(isLoading || isError) &&  */}\n                  <Box \n\t\t\t\t\twidth=\"100%\" \n\t\t\t\t\theight=\"100%\"\n\t\t\t\t\tposition=\"absolute\"  \n\t\t\t\t\ttop={0} \n\t\t\t\t\tleft={0}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"column\" \n\t\t\t\t\tjustifyContent=\"center\" \n\t\t\t\t\talignItems=\"center\" \n\t\t\t\t\tzIndex={10} \n                  >\n                    {isLoading && <RouterSuspense />}\n                    {isError && (\n                      <Typography \n                        variant=\"h6\" \n                        sx={{ fontWeight: 'bold', color: 'red' }}\n                      >\n                        Error: no data to display\n                      </Typography>\n                    )}  \n                  </Box>\n                // }\n\t\t    {/* <Table aria-label=\"collapsible table\">\n\t\t\t  <TableBody sx={{ width: '100%' }}>\n                {!isError && !isLoading && (\n\t\t\t      widgets?.map((widget: IWidgetItem) => (\n\t\t\t\t\t<WidgetRowForLiveStream \n\t\t\t\t\t  key={widget.id} \n\t\t\t\t\t  widget={widget} \n\t\t\t\t\t  setCurrentCoords={setCurrentCoords} \n\t\t\t\t\t/>\n\t\t\t\t  ))\n                )}\n\t\t\t  </TableBody>\n\t\t    </Table> */}\n\t\t  </TableContainer>\n\t\t  <TableContainer component={Box}>\n\t\t    <Table aria-label=\"collapsible table\">\n\t\t\t  <TableFooter sx={tableFooterStyle}>\n\t\t\t    <TableRow sx={{ position: 'relative', width: '350px' }}>\n\t\t\t\t  <TableCell>\n\t\t\t\t    <AutoStoriesIcon sx={bookIconStyle} />\n\t\t\t\t  </TableCell>\n\t\t\t\t  <TablePagination\n\t\t\t\t    colSpan={3}\n\t\t\t\t    count={count}\n\t\t\t\t    rowsPerPage={pageSize}\n\t\t\t\t    page={page}\n\t\t\t\t    onPageChange={onChangePage}\n\t\t\t\t    rowsPerPageOptions={[5, 10, 25]}\n\t\t\t\t    onRowsPerPageChange={onChangeRowsPerPage}\n\t\t\t\t    ActionsComponent={TablePaginationActions}\n\t\t\t\t    sx={tablePaginationStyle}\n\t\t\t\t  />\n\t\t\t    </TableRow>\n\t\t\t  </TableFooter>\n\t\t    </Table>\n\t\t  </TableContainer>\n\t    </Box>\n\t  </Box>\n\t</>\n  )\t  \n} \n\nexport default WidgetsWithLiveStream;"]},"metadata":{},"sourceType":"module"}